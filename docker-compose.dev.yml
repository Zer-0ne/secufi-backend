version: "3.8"

services:
  postgres:
    environment:
      POSTGRES_DB: secufi_db_dev
      POSTGRES_USER: secufi_user_dev
      POSTGRES_PASSWORD: secufi_password_dev
    ports:
      - "5433:5432"

  app:
    environment:
      NODE_ENV: development
      PORT: 5050
      DATABASE_URL: postgresql://secufi_user_dev:secufi_password_dev@postgres:5432/secufi_db_dev
    ports:
      - "5050:5050"
    volumes:
      - ./uploads:/app/uploads
      - ./:/app


# # build + run dev
# docker-compose -f docker-compose.yml -f docker-compose.dev.yml up --build

# # normal run (image already built)
# docker-compose -f docker-compose.yml -f docker-compose.dev.yml up


# Prod/local prod ke liye sirf base file:â€‹

# bash
# docker-compose -f docker-compose.yml up -d --build


# Agar future me docker-compose.prod.yml banana ho to pattern same rahega:

# bash
# docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d --build